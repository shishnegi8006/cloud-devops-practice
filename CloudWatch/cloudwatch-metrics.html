<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CloudWatch Metrics - AWS Solution Architect</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <link href="../styles.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-white">
    <div class="container mx-auto px-4 py-8">
        <!-- Navigation -->
        <nav class="mb-8">
            <a href="index.html" class="text-aws-orange hover:text-white transition-colors">
                <i class="fas fa-arrow-left mr-2"></i>Back to CloudWatch
            </a>
        </nav>

        <!-- Header -->
        <header class="text-center mb-12">
            <div class="bg-blue-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-tachometer-alt text-white text-3xl"></i>
            </div>
            <h1 class="text-4xl font-montserrat font-bold mb-4">CloudWatch Metrics</h1>
            <p class="text-xl text-gray-300">Custom & Default Metrics Deep Dive</p>
        </header>

        <!-- Content -->
        <div class="max-w-4xl mx-auto">
            
            <!-- Overview -->
            <section class="mb-12">
                <h2 class="text-2xl font-montserrat font-bold mb-6 text-aws-orange">Metrics Overview</h2>
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <p class="text-gray-300 mb-4">
                        CloudWatch metrics are time-ordered sets of data points that represent the performance of your systems. They provide insights into resource utilization, application performance, and operational health.
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                        <div class="bg-gray-700 p-4 rounded-lg text-center">
                            <i class="fas fa-clock text-blue-400 text-2xl mb-2"></i>
                            <h4 class="font-semibold text-blue-400">Time-Series Data</h4>
                            <p class="text-sm text-gray-300">Timestamped data points</p>
                        </div>
                        <div class="bg-gray-700 p-4 rounded-lg text-center">
                            <i class="fas fa-chart-bar text-green-400 text-2xl mb-2"></i>
                            <h4 class="font-semibold text-green-400">Statistical Analysis</h4>
                            <p class="text-sm text-gray-300">Aggregated insights</p>
                        </div>
                        <div class="bg-gray-700 p-4 rounded-lg text-center">
                            <i class="fas fa-bell text-red-400 text-2xl mb-2"></i>
                            <h4 class="font-semibold text-red-400">Alarm Triggers</h4>
                            <p class="text-sm text-gray-300">Automated responses</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Default Metrics -->
            <section class="mb-12">
                <h2 class="text-2xl font-montserrat font-bold mb-6 text-aws-orange">Default AWS Metrics</h2>
                
                <div class="space-y-6">
                    <!-- EC2 Metrics -->
                    <div class="bg-gray-800 rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-green-400">
                            <i class="fas fa-server mr-2"></i>EC2 Instance Metrics
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-semibold text-green-300 mb-2">Basic Monitoring (5-minute intervals)</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• <strong>CPUUtilization:</strong> Percentage of CPU usage</li>
                                    <li>• <strong>NetworkIn/Out:</strong> Network bytes received/sent</li>
                                    <li>• <strong>NetworkPacketsIn/Out:</strong> Network packets</li>
                                    <li>• <strong>DiskReadOps/WriteOps:</strong> Disk operations</li>
                                    <li>• <strong>DiskReadBytes/WriteBytes:</strong> Disk throughput</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-green-300 mb-2">Detailed Monitoring (1-minute intervals)</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• Same metrics with higher resolution</li>
                                    <li>• Additional cost applies</li>
                                    <li>• Better for auto scaling</li>
                                    <li>• Faster alarm response</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-4 p-4 bg-yellow-900 bg-opacity-50 rounded-lg">
                            <p class="text-yellow-200 text-sm">
                                <i class="fas fa-exclamation-triangle mr-2"></i>
                                <strong>Note:</strong> EC2 default metrics do not include memory utilization, disk space utilization, or swap utilization. Use CloudWatch Agent for these metrics.
                            </p>
                        </div>
                    </div>

                    <!-- RDS Metrics -->
                    <div class="bg-gray-800 rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-blue-400">
                            <i class="fas fa-database mr-2"></i>RDS Database Metrics
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-semibold text-blue-300 mb-2">Performance Metrics</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• <strong>CPUUtilization:</strong> Database CPU usage</li>
                                    <li>• <strong>DatabaseConnections:</strong> Active connections</li>
                                    <li>• <strong>FreeableMemory:</strong> Available RAM</li>
                                    <li>• <strong>ReadLatency/WriteLatency:</strong> I/O latency</li>
                                    <li>• <strong>ReadIOPS/WriteIOPS:</strong> I/O operations per second</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-blue-300 mb-2">Storage Metrics</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• <strong>FreeStorageSpace:</strong> Available storage</li>
                                    <li>• <strong>ReadThroughput/WriteThroughput:</strong> Bytes per second</li>
                                    <li>• <strong>DiskQueueDepth:</strong> Outstanding I/O requests</li>
                                    <li>• <strong>SwapUsage:</strong> Swap file usage</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- S3 Metrics -->
                    <div class="bg-gray-800 rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-purple-400">
                            <i class="fas fa-cloud mr-2"></i>S3 Bucket Metrics
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-semibold text-purple-300 mb-2">Storage Metrics (Daily)</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• <strong>BucketSizeBytes:</strong> Total bucket size</li>
                                    <li>• <strong>NumberOfObjects:</strong> Object count</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-purple-300 mb-2">Request Metrics (Optional)</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• <strong>AllRequests:</strong> Total requests</li>
                                    <li>• <strong>GetRequests:</strong> GET requests</li>
                                    <li>• <strong>PutRequests:</strong> PUT requests</li>
                                    <li>• <strong>4xxErrors/5xxErrors:</strong> Error rates</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Custom Metrics -->
            <section class="mb-12">
                <h2 class="text-2xl font-montserrat font-bold mb-6 text-aws-orange">Custom Metrics</h2>
                
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <p class="text-gray-300 mb-4">
                        Custom metrics allow you to publish application-specific data to CloudWatch. This enables monitoring of business metrics, application performance indicators, and system metrics not provided by default.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                        <div class="bg-gray-700 p-4 rounded-lg">
                            <h4 class="font-semibold text-yellow-400 mb-3">Publishing Methods</h4>
                            <ul class="text-sm text-gray-300 space-y-2">
                                <li>• <strong>AWS CLI:</strong> aws cloudwatch put-metric-data</li>
                                <li>• <strong>AWS SDKs:</strong> PutMetricData API</li>
                                <li>• <strong>CloudWatch Agent:</strong> System metrics</li>
                                <li>• <strong>StatsD:</strong> Application metrics</li>
                            </ul>
                        </div>
                        
                        <div class="bg-gray-700 p-4 rounded-lg">
                            <h4 class="font-semibold text-yellow-400 mb-3">Metric Components</h4>
                            <ul class="text-sm text-gray-300 space-y-2">
                                <li>• <strong>Namespace:</strong> Custom namespace (not AWS/*)</li>
                                <li>• <strong>MetricName:</strong> Unique identifier</li>
                                <li>• <strong>Dimensions:</strong> Name/value pairs (max 10)</li>
                                <li>• <strong>Value:</strong> Numeric data point</li>
                                <li>• <strong>Unit:</strong> Measurement unit</li>
                                <li>• <strong>Timestamp:</strong> Data point time</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Custom Metric Example -->
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-yellow-400">Custom Metric Example</h3>
                    <div class="bg-gray-900 p-4 rounded-lg">
                        <pre class="text-green-400 text-sm overflow-x-auto"><code>aws cloudwatch put-metric-data \
  --namespace "MyApp/Orders" \
  --metric-data MetricName=OrdersProcessed,Value=150,Unit=Count,Dimensions=[{Name=Environment,Value=Production},{Name=Region,Value=us-east-1}] \
  --timestamp 2024-01-15T10:00:00Z</code></pre>
                    </div>
                </div>
            </section>

            <!-- High-Resolution Metrics -->
            <section class="mb-12">
                <h2 class="text-2xl font-montserrat font-bold mb-6 text-aws-orange">High-Resolution Metrics</h2>
                
                <div class="bg-gray-800 rounded-lg p-6">
                    <p class="text-gray-300 mb-4">
                        High-resolution metrics provide data points at sub-minute intervals, enabling more granular monitoring and faster response to changes.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-gray-700 p-4 rounded-lg">
                            <h4 class="font-semibold text-orange-400 mb-3">Resolution Options</h4>
                            <ul class="text-sm text-gray-300 space-y-2">
                                <li>• <strong>1 second:</strong> Highest resolution</li>
                                <li>• <strong>5 seconds:</strong> High resolution</li>
                                <li>• <strong>10 seconds:</strong> High resolution</li>
                                <li>• <strong>30 seconds:</strong> High resolution</li>
                                <li>• <strong>60 seconds:</strong> Standard resolution</li>
                            </ul>
                        </div>
                        
                        <div class="bg-gray-700 p-4 rounded-lg">
                            <h4 class="font-semibold text-orange-400 mb-3">Use Cases</h4>
                            <ul class="text-sm text-gray-300 space-y-2">
                                <li>• Real-time application monitoring</li>
                                <li>• High-frequency trading systems</li>
                                <li>• Gaming applications</li>
                                <li>• IoT sensor data</li>
                                <li>• Performance testing</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="mt-4 p-4 bg-red-900 bg-opacity-50 rounded-lg">
                        <p class="text-red-200 text-sm">
                            <i class="fas fa-exclamation-triangle mr-2"></i>
                            <strong>Cost Consideration:</strong> High-resolution metrics incur additional charges and have shorter retention periods (3 hours for sub-minute data).
                        </p>
                    </div>
                </div>
            </section>

            <!-- Metric Filters -->
            <section class="mb-12">
                <h2 class="text-2xl font-montserrat font-bold mb-6 text-aws-orange">Metric Filters</h2>
                
                <div class="bg-gray-800 rounded-lg p-6">
                    <p class="text-gray-300 mb-4">
                        Metric filters extract metric observations from ingested events and transform them into CloudWatch metrics. They're commonly used with CloudWatch Logs to create metrics from log data.
                    </p>
                    
                    <div class="space-y-4">
                        <div class="bg-gray-700 p-4 rounded-lg">
                            <h4 class="font-semibold text-indigo-400 mb-2">Filter Pattern Examples</h4>
                            <div class="space-y-2 text-sm text-gray-300">
                                <div><strong>Error Count:</strong> [timestamp, request_id, "ERROR"]</div>
                                <div><strong>Response Time:</strong> [timestamp, request_id, response_time > 1000]</div>
                                <div><strong>Status Codes:</strong> [timestamp, request_id, status_code = 404]</div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-700 p-4 rounded-lg">
                            <h4 class="font-semibold text-indigo-400 mb-2">Common Use Cases</h4>
                            <ul class="text-sm text-gray-300 space-y-1">
                                <li>• Application error rate monitoring</li>
                                <li>• Performance threshold tracking</li>
                                <li>• Security event detection</li>
                                <li>• Business metric extraction from logs</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Best Practices -->
            <section class="mb-12">
                <h2 class="text-2xl font-montserrat font-bold mb-6 text-aws-orange">Metrics Best Practices</h2>
                <div class="space-y-4">
                    <div class="bg-green-900 bg-opacity-50 border-l-4 border-green-500 p-4 rounded-lg">
                        <h4 class="font-semibold text-green-400 mb-2">Naming Conventions</h4>
                        <p class="text-gray-300 text-sm">Use consistent, descriptive names. Include units and context. Example: "OrderProcessingTime_Milliseconds" instead of "Time".</p>
                    </div>
                    
                    <div class="bg-blue-900 bg-opacity-50 border-l-4 border-blue-500 p-4 rounded-lg">
                        <h4 class="font-semibold text-blue-400 mb-2">Dimension Strategy</h4>
                        <p class="text-gray-300 text-sm">Use dimensions for filtering and aggregation. Avoid high cardinality dimensions that create too many unique metric streams.</p>
                    </div>
                    
                    <div class="bg-purple-900 bg-opacity-50 border-l-4 border-purple-500 p-4 rounded-lg">
                        <h4 class="font-semibold text-purple-400 mb-2">Batch Publishing</h4>
                        <p class="text-gray-300 text-sm">Batch multiple metric data points in a single PutMetricData call to reduce API costs and improve performance.</p>
                    </div>
                    
                    <div class="bg-yellow-900 bg-opacity-50 border-l-4 border-yellow-500 p-4 rounded-lg">
                        <h4 class="font-semibold text-yellow-400 mb-2">Cost Optimization</h4>
                        <p class="text-gray-300 text-sm">Monitor custom metric usage. Use appropriate resolution levels. Consider metric aggregation for cost efficiency.</p>
                    </div>
                </div>
            </section>

            <!-- Key Takeaways -->
            <section class="mb-12">
                <h2 class="text-2xl font-montserrat font-bold mb-6 text-aws-orange">Key Takeaways</h2>
                <div class="bg-gray-800 rounded-lg p-6">
                    <ul class="space-y-3 text-gray-300">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                            <span>Default metrics are provided automatically by AWS services at no additional charge</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                            <span>Custom metrics enable monitoring of application-specific and business metrics</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                            <span>High-resolution metrics provide sub-minute granularity for real-time monitoring</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                            <span>Metric filters transform log data into actionable metrics</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                            <span>Proper naming and dimension strategy is crucial for effective monitoring</span>
                        </li>
                    </ul>
                </div>
            </section>

        </div>
    </div>
</body>
</html>